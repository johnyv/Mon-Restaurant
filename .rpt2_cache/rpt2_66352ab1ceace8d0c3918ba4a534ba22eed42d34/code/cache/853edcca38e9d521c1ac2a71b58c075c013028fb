{
  "code": "import ConstName from \"../ConstName\";\r\nimport GameController from \"./GameController\";\r\nimport UIController from \"./UIController\";\r\nimport LoadController from \"./LoadController\";\r\nimport LayerController from \"./LayerController\";\r\nimport RoleController from \"./RoleController\";\r\nimport BattleController from \"./BattleController\";\r\nvar CommandChannel = (function () {\r\n    function CommandChannel() {\r\n        this._controllerList = new Object();\r\n        this._dataProxyList = new Object();\r\n        this.registerController(ConstName.GAME_CONTROLLER, new GameController(this));\r\n        this.registerController(ConstName.UI_CONTROLLER, new UIController(this));\r\n        this.registerController(ConstName.LOAD_CONTROLLER, new LoadController(this));\r\n        this.registerController(ConstName.LAYER_CONTROLLER, new LayerController(this));\r\n        this.registerController(ConstName.ROLE_CONTROLLER, new RoleController(this));\r\n        this.registerController(ConstName.BATTLE_CONTROLLER, new BattleController(this));\r\n        this.init();\r\n    }\r\n    CommandChannel.prototype.init = function () {\r\n        for (var controllerName in this._controllerList) {\r\n            this._controllerList[controllerName].init();\r\n        }\r\n        for (var dataProxyName in this._dataProxyList) {\r\n            this._dataProxyList[dataProxyName].init();\r\n        }\r\n    };\r\n    Object.defineProperty(CommandChannel, \"instance\", {\r\n        get: function () {\r\n            !CommandChannel._instance && (CommandChannel._instance = new CommandChannel());\r\n            return CommandChannel._instance;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CommandChannel.prototype.registerController = function (controllerName, controller) {\r\n        if (!this._controllerList.hasOwnProperty(controllerName)) {\r\n            this._controllerList[controllerName] = controller;\r\n        }\r\n    };\r\n    CommandChannel.prototype.getController = function (controllerName) {\r\n        if (this._controllerList[controllerName]) {\r\n            return this._controllerList[controllerName];\r\n        }\r\n        return null;\r\n    };\r\n    CommandChannel.prototype.postCommand = function (controllerName, commandName, params) {\r\n        if (params === void 0) { params = null; }\r\n        var getController = this.getController(controllerName);\r\n        return getController != null ? getController.executeCommand(commandName, params) : null;\r\n    };\r\n    CommandChannel.prototype.registerDataProxy = function (dataProxyName, dataProxy) {\r\n        if (!this._dataProxyList.hasOwnProperty(dataProxyName)) {\r\n            this._dataProxyList[dataProxyName] = dataProxy;\r\n        }\r\n    };\r\n    CommandChannel.prototype.addFuncToDataProxy = function (dataProxyName, dataName, func, thisObj) {\r\n        var dataProxy = this.getDataProxy(dataProxyName);\r\n        dataProxy && dataProxy.addDataFunc(dataName, func, thisObj);\r\n    };\r\n    CommandChannel.prototype.getDataProxy = function (dataProxyName) {\r\n        if (this._dataProxyList[dataProxyName]) {\r\n            return this._dataProxyList[dataProxyName];\r\n        }\r\n        return null;\r\n    };\r\n    CommandChannel.prototype.broadCastData = function (dataProxyName, dataName, params) {\r\n        if (params === void 0) { params = null; }\r\n        var dataProxy = this.getDataProxy(dataProxyName);\r\n        return dataProxy != null ? dataProxy.executeCommand(dataName, params) : null;\r\n    };\r\n    return CommandChannel;\r\n}());\r\nexport default CommandChannel;\r\n",
  "references": [
    "D:/project/canting/canting/src/game/ConstName.ts",
    "D:/project/canting/canting/src/game/model/DataProxy.ts",
    "D:/project/canting/canting/src/game/controller/GameController.ts",
    "D:/project/canting/canting/src/game/controller/UIController.ts",
    "D:/project/canting/canting/src/game/controller/LoadController.ts",
    "D:/project/canting/canting/src/game/controller/LayerController.ts",
    "D:/project/canting/canting/src/game/controller/RoleController.ts",
    "D:/project/canting/canting/src/game/controller/BattleController.ts",
    "D:/project/canting/canting/src/game/controller/Controller.ts"
  ]
}
