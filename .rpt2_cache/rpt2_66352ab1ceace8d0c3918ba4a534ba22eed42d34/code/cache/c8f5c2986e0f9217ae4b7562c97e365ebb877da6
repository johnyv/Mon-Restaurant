{
  "code": "import { __extends } from \"tslib\";\r\nimport BaseAnimation from \"./BaseAnimation\";\r\nimport LoadManager from \"../manager/LoadManager\";\r\nimport GameGlobal from \"../GameGlobal\";\r\nvar GameAnimation = (function (_super) {\r\n    __extends(GameAnimation, _super);\r\n    function GameAnimation() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this._actionNameList = [];\r\n        _this._actionFrame = new Object();\r\n        _this._isLoaded = false;\r\n        _this.moveBoundsArr = [0, 0, 0, 0];\r\n        return _this;\r\n    }\r\n    GameAnimation.prototype.loadAtlas = function (url, loaded, cacheName) {\r\n        if (loaded === void 0) { loaded = null; }\r\n        if (cacheName === void 0) { cacheName = \"\"; }\r\n        this._url = LoadManager.getUrl(url, GameGlobal.ROLE);\r\n        return this.loadAtlas(this._url, Laya.Handler.create(this, this.onLoaded));\r\n    };\r\n    GameAnimation.prototype.startLoad = function () {\r\n        Laya.loader.load(this._url, Laya.Handler.create(this, this.onLoaded));\r\n    };\r\n    GameAnimation.prototype.onLoaded = function () {\r\n        this._isLoaded = true;\r\n        var _e = Laya.loader.getRes(this._url);\r\n        this._prefix = _e.meta.prefix;\r\n        var frames = _e.frames;\r\n        for (var fullName in frames) {\r\n            var actionName = fullName.split(\"_\")[0];\r\n            if (this._actionNameList.indexOf(actionName) < 0) {\r\n                this._actionNameList.push(actionName);\r\n                this._actionFrame[actionName] = 1;\r\n            }\r\n            else\r\n                this._actionFrame[actionName]++;\r\n        }\r\n        this.playAction(\"move\");\r\n    };\r\n    GameAnimation.prototype.hasAction = function (actionName) {\r\n        return this._actionNameList.indexOf(actionName) > -1;\r\n    };\r\n    GameAnimation.prototype.playAction = function (actionName, start, loop, name) {\r\n        if (start === void 0) { start = 0; }\r\n        if (loop === void 0) { loop = true; }\r\n        if (name === void 0) { name = GameAnimation.MODUL; }\r\n        if (!this._isLoaded || this._actionNameList.indexOf(actionName) == -1)\r\n            return;\r\n        if (this._currentActionName == actionName)\r\n            return;\r\n        this._currentActionName = actionName;\r\n        Laya.Animation.createFrames(this.aniUrls(actionName, this._actionFrame[actionName]), GameAnimation.MODUL);\r\n        this.play();\r\n        if (!this.graphics._one) {\r\n            debugger;\r\n        }\r\n        this.pivot(this.graphics._one.width / 2, 0);\r\n        var moveBoundsRect = this.getGraphicBounds();\r\n        this.moveBoundsArr[1] = Laya.stage.height - moveBoundsRect.height;\r\n        this.moveBoundsArr[3] = Laya.stage.width - moveBoundsRect.width / 2;\r\n        debugger;\r\n    };\r\n    GameAnimation.prototype.recycle = function () {\r\n    };\r\n    GameAnimation.MODUL = \"modul\";\r\n    return GameAnimation;\r\n}(BaseAnimation));\r\nexport default GameAnimation;\r\n",
  "references": [
    "D:/project/canting/canting/src/game/role/BaseAnimation.ts",
    "D:/project/canting/canting/src/game/manager/LoadManager.ts",
    "D:/project/canting/canting/src/game/GameGlobal.ts"
  ]
}
